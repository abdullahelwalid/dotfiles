#!/usr/bin/env osascript

# Returns the tty of the frontmost Terminal window (i.e. the one with focus), or
# the empty string if no Terminal window has focus. This can be used to figure
# out whether a script is being run in the foreground or background. (By
# comparing the output of this script with the output of `tty`.)

tell application "Terminal"
  if frontmost is true
    repeat with w in windows
      if (frontmost of w) is true then
        set t to (selected tab of w)
        return (tty of t) as string
      end if
    end repeat
  end if
end tell
