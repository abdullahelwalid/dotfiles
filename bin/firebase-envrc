#!/usr/bin/env bash

if [ $# == 0 ]; then
  echo "usage: $(basename $0) firebase_app_name [custom_url] # see https://www.firebase.com/account"
  exit 1
fi

if [ ! $(which direnv) ]; then
  echo "error: direnv command not found"
  exit 1
fi

FIREBASE_APP_URL="${2:-https://${1}.firebaseapp.com}/"

cat << END > .envrc
export FIREBASE_APP_NAME=$1
export FIREBASE_APP_URL=$FIREBASE_APP_URL
END

echo "$(basename $0): created .envrc"
direnv allow
